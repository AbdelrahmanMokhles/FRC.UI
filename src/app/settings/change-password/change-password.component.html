<div
    class="toast-container transition position-fixed bottom-0 end-0 p-3"
    [class.show]="toast"
>
    <div class="toast" role="alert">
        <div class="toast-header">
            <strong class="me-auto">{{ toastTitle }}</strong>
            <button
                type="button"
                class="btn-close shadow-none"
                aria-label="Close"
                (click)="toggleToast()"
            ></button>
        </div>
        <div class="toast-body">
            {{ toastBody }}
        </div>
    </div>
</div>

<div class="change-password-card">
    <div class="row">
        <div *ngIf="userType == 'User'" class="col-sm-6">
            <div class="form-group position-relative">
                <div class="position-relative">
                    <label class="main-label d-block fw-medium text-black">
                        Old Password
                    </label>
                    <!-- <input [type]="isPassword1Visible ? 'text' : 'password'" [value]="password1" (input)="onPassword1Input($event)" class="form-control" placeholder="Type password"> -->
                    <input
                        [type]="isPassword1Visible ? 'text' : 'password'"
                        [value]="password1"
                        (input)="onPassword1Input($event)"
                        class="form-control"
                        placeholder="Type password"
                    />
                    <button
                        type="button"
                        (click)="togglePassword1Visibility()"
                        class="icon-button p-0 border-0 bg-transparent transition position-absolute top-50 end-0 translate-middle-y me-2"
                    >
                        <i
                            [ngClass]="
                                isPassword1Visible
                                    ? 'ri-eye-line'
                                    : 'ri-eye-off-line'
                            "
                        ></i>
                    </button>
                </div>
                <span class="text-danger" *ngIf="formErrors.password1">
                    {{ formErrors.password1 }}
                </span>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group position-relative">
                <div class="position-relative">
                    <label class="main-label d-block fw-medium text-black">
                        New Password
                    </label>
                    <!-- <input [type]="isPassword2Visible ? 'text' : 'password'" [value]="password2" (input)="onPassword2Input($event)" class="form-control" placeholder="Type password"> -->
                    <input
                        [type]="isPassword2Visible ? 'text' : 'password'"
                        [value]="password2"
                        (input)="onPassword2Input($event)"
                        class="form-control"
                        placeholder="Type password"
                    />
                    <button
                        type="button"
                        (click)="togglePassword2Visibility()"
                        class="icon-button p-0 border-0 bg-transparent transition position-absolute top-50 end-0 translate-middle-y me-2"
                    >
                        <i
                            [ngClass]="
                                isPassword2Visible
                                    ? 'ri-eye-line'
                                    : 'ri-eye-off-line'
                            "
                        ></i>
                    </button>
                </div>
                <span class="text-danger" *ngIf="formErrors.password2">{{
                    formErrors.password2
                }}</span>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group position-relative">
                <!-- <input [type]="isPassword3Visible ? 'text' : 'password'" [value]="password3" (input)="onPassword3Input($event)" class="form-control" placeholder="Type password"> -->
                <div class="position-relative">
                    <label class="main-label d-block fw-medium text-black">
                        Confirm Password
                    </label>
                    <input
                        [type]="isPassword3Visible ? 'text' : 'password'"
                        [value]="password3"
                        (input)="onPassword3Input($event)"
                        class="form-control"
                        placeholder="Type password"
                    />
                    <!-- <button  type="button" (click)="togglePasswordVisibility()" class="icon-button p-0 border-0 bg-transparent transition"> -->
                    <button
                        type="button"
                        (click)="togglePassword3Visibility()"
                        class="icon-button p-0 border-0 bg-transparent transition position-absolute top-50 end-0 translate-middle-y me-2"
                    >
                        <i
                            [ngClass]="
                                isPassword3Visible
                                    ? 'ri-eye-line'
                                    : 'ri-eye-off-line'
                            "
                        ></i>
                    </button>
                </div>
                <span class="text-danger" *ngIf="formErrors.password3">{{
                    formErrors.password3
                }}</span>
            </div>
        </div>
    </div>
    <div class="form-btn-box">
        <button
            *ngIf="userType === 'Admin'"
            (click)="ChangeForAdmin()"
            type="button"
            class="primary d-inline-block fw-medium border-radius border-0 transition"
        >
            <span class="d-inline-block position-relative">
                <i class="material-symbols-outlined"> check </i>
                Change Password
            </span>
        </button>
        <button
            *ngIf="userType === 'User' || !userType"
            [disabled]="!isFormValid()"
            (click)="Change()"
            type="button"
            class="btn btn-primary d-inline-block fw-medium border-radius border-0 transition"
        >
            Change Password
        </button>

        <a
            *ngIf="userType === 'User'"
            routerLink="/authentication/forgot-password"
            class="fs-14 text-danger"
        >
            Forgot Password?
        </a>
    </div>
</div>
